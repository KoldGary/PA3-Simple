# Binary Number Interpreter
# Lexical specification

skip WHITESPACE '\s+'
token NL '\n'
token ZERO '\Zero'
token ONE '\ONE'

# Lexical specification
token ZERO '0'
token ONE '1'
skip WHITESPACE '\s+'

%
# Syntactic specification
<binary> ::= <bits>
<bits> ::= <bit> <bits> | <bit>
<bit>:ZeroBit ::= ZERO
<bit>:OneBit ::= ONE

%
# Semantic specification
<binary>.val = <bits>.val
<bits>.val = <bit>.val + 2 * <bits>[1].val
<bit:ZeroBit>.val = 0
<bit:OneBit>.val = 1
